"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[911],{3522:(e,t,r)=>{r.d(t,{B:()=>function e(t,r=!1){for(let n of Object.keys(t))void 0===t[n]&&delete t[n],r&&"object"==typeof t[n]&&null!==t[n]?e(t[n],r):r&&Array.isArray(t[n])&&t[n].forEach(t=>e(t,r));return t}})},7911:(e,t,r)=>{r.d(t,{search:()=>c});var n=r(3522),a=r(1385);async function o(e,t,r={}){return(await (0,a.$P)(e,{term:t,tolerance:1,...r,boost:{title:2,..."boost"in r?r.boost:void 0}})).hits.map(e=>({type:"page",content:e.document.title,id:e.document.url,url:e.document.url}))}async function i(e,t,r,o={}){let u={where:(0,n.B)({tag:r,...o.where}),groupBy:{properties:["page_id"],maxResult:8,...o.groupBy}};t.length>0&&(u={...u,term:t,properties:["content","keywords"],...o,where:u.where,groupBy:u.groupBy});let s=await (0,a.$P)(e,u),c=[];for(let t of s.groups??[]){let r=t.values[0],n=await (0,a.VT)(e,r);if(n)for(let e of(c.push({id:r,type:"page",content:n.content,url:n.url}),t.result))"page"!==e.document.type&&c.push({id:e.document.id.toString(),content:e.document.content,type:e.document.type,url:e.document.url})}return c}var u=new Map;async function s({from:e="/api/search",initOrama:t=e=>(0,a.vt)({schema:{_:"string"},language:e})}){let r=u.get(e);if(r)return r;let n=async function(){let r=await fetch(e);if(!r.ok)throw Error(`failed to fetch exported search indexes from ${e}, make sure the search database is exported and available for client.`);let n=await r.json(),o=new Map;if("i18n"===n.type)return await Promise.all(Object.entries(n.data).map(async([e,r])=>{let n=await t(e);(0,a.Hh)(n,r),o.set(e,{type:r.type,db:n})})),o;let i=await t();return(0,a.Hh)(i,n),o.set("",{type:n.type,db:i}),o}();return u.set(e,n),n}async function c(e,t){let{tag:r,locale:n}=t,a=(await s(t)).get(n??"");return a?"simple"===a.type?o(a,e):i(a.db,e,r):[]}}}]);